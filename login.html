<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>		
		<link rel="stylesheet" type="text/css" href="css/public.css"/>
        <link rel="stylesheet" type="text/css" href="css/login.css"/>
	</head>
	<body>
	<!--头部-->
    <div class="head">
		<div class="head_one">
		 <a href=""><img src="img/login.jpg" class="imgs"/></a>
     	<ul>
			<a href=""><li>关于我们</li></a>
			<a href=""><li>精选系列</li></a>
			<a href=""><li>男装</li></a>
		    <a href=""><li>女装</li></a>
			<a href=""><li>牛仔风潮</li></a>
			<a href=""><li>Lee Create</li></a>		  	
		 </ul>
	    <div class="head_right">
			<ul>
				<li> 
					<a href="">
						<img src="img/wx.png" class="wx"/>
						<img src="img/wxs.png" class="wxs"/>
					</a
				</li>
				<li>
					<a href="">
					    <img src="img/wb.png"/> 
					</a>  		
			   </li>
			</ul>
			<span class="head_s">
				<input type="" value=""/>
				<button><img src="img/icon_1.png"/></button>
			</span>
			 <span class="head_v">
				  <a href=""><img src="img/hd_fav.png" class="v_1"/></a>
				  	<a href="">登录<img src="img/men.png" class="v_2"/></a>
			</span>
		 </div>
	</div>
</div>	
		<div class="Bigbox">
			<div class="box">	
<!--登录部分-->			
				<div class="boxleft">
					<h2>登录</h2>
					<ul class="ul_one">
						<li>如果您已经在Lee线下门店或官方微信注册成为了Lee牛仔部落会员，无需在本网站再次注册。首次登陆前请<a href="">点击这里设置密码</a>即可
						</li>
					</ul>
<!--登录框	-->	    
         <ul class="ul_two">
            <li><label for="">登录账号</label> 
                 <input type="text" name="usernames" id="usernames" />
                    </li>
                    <li><label for="">密码</label> 
                     <span>	<input type="text"  name="passwords" id="passwords"/></span>
                     </li>
                   <li><a href="">忘记密码?</a></li>
		</ul>
				   <div class="logins">
					<span class="button"><a href="javascript:void(0)">立即登录</a></span>
				  </div>
				</div>
<!--空白部分-->
			<div class="boxcenter">		
				</div>
<!--注册部分-->			
<div class="boxright">
	<h2>新用户</h2>			
	<ul>
<!--姓部分-->
		<li>
			<label for="">姓</label>
			<input type="" name="surname" id="surname"  value="" />
			<span></span>
		</li>
<!--名部分-->
		<li>
			<label for="">名</label>
			<input type="" name="names" id="names" value="" />
		</li>
<!--手机号部分-->		
		<li>
			<label for="">手机号</label>
			<input type="" name="phone" id="phone" placeholder="请输入11位手机号" /> 
			<span class="rightN"></span>                 
		</li>
<!--出生日期部分-->				
		<li>
			<label for="">生日:</label>
			<input type="" name="birth" id="birth" placeholder="例：yyyy-mm-dd" />
		</li>
<!--用户名部分-->				
		<li>
			<label for="">用户名</label>
			<input type="" name="username" id="username" placeholder="只能以数字字母下划线开头" />
			<span class="rightU"></span>
		</li>
<!--邮箱部分-->						
		<li>
			<label for="">邮箱</label>
			<input type="" name="email" id="email"  value="" />
			<span class="rightE"></span> 
		</li>
<!--密码部分-->								
		<li>
			<label for="">密码</label>
			<input type="" name="password"  id="password" value="" />
			<span class="rightP"></span> 
		</li>
<!--确认密码部分-->								
		<li>
			<label for="">确认密码</label>
			<input type="" name="passes" id="passes" value="" />
			<span class="rightA"></span> 
		</li>
		<li class="aggress"><i><img src="img/rights.png" class="bgimg"/>
		</i>我已阅读并同意使用<a href="">使用条款</a>&<a href="">隐私政策</a>
		</li>
		<div class="register">
			<span class="buttons"><a href="javascript:void(0)">立即注册</a></span>
		 </div>
	</ul>
		</div>
	</div>
</div>
<!--尾部-->
      <div class="footer">
      	 <div class="footer_s">
      	 	<div class="footer_top">
      	 		<ul class="fu1">
      	 			<li><h3>企业咨询</h3></li>
      	 			<a href=""><li>寻找门店</li></a>
      	 			<a href=""><li>使用条款</li></a>
      	 			<a href=""><li>隐私政策</li></a>
      	 			<a href=""><li>联系我们</li></a>
      	 		</ul>
      	 		<ul class="fu2">
      	 			<li><h3>国家及地区</h3></li>
      	 			<a href=""><li>Australia</li></a>
      	 			<a href=""><li>Hong Kong</li></a>
      	 			<a href=""><li>中国香港</li></a>
      	 			<a href=""><li>India</li></a>
      	 			<a href=""><li>Indonesia (EN)</li></a>
      	 			<a href=""><li>Indonesia (ID)</li></a>
      	 			<a href=""><li>JapanJapan</li></a>
      	 			<a href=""><li>Malaysia</li></a>
      	 		</ul>
      	 		<ul class="fu3">
      	 			<a href=""><li>New Zealand</li></a>
      	 			<a href=""><li>Philippines</li></a>
      	 			<a href=""><li>South Africa</li></a>
      	 			<a href=""><li>中國台灣</li></a>
      	 			<a href=""><li>Thailand</li></a>
      	 			<a href=""><li>ประเทศไทย</li></a>
      	 			<a href=""><li>Vietnam</li></a>
      	 			<a href=""><li>Việt Nam</li></a>
      	 		</ul>
      	 			<ul class="fu4">
      	 			<a href=""><li><h3>关注Lee牛仔部落官方微信</h3></li></a>
      	 			<a href=""><li><img src="img/f1.png"/></li></a>
      	 		</ul>
      	 	</div>
      	 	<div class="footer_bottom">
      	 		 <span>
      	 		 	<a href="">
      	 		 		<font>沪ICP备08104484号-16</font>
      	 		 	</a>
      	 		 		<font>工信部网站</font>
                         <p>威富服饰（中国）有限公司上海分公司 </p>
                         <p>©LEE 2018 All rights reserved.</p>
      	 		 </span>
      	 	</div>
      	 </div>
      </div>
	</body>
</html>
<script type="text/javascript" src="js/jquery-1.8.3.js" ></script>
<script type="text/javascript" src="js/Cookie.js" ></script>
<script type="text/javascript">
//注册部分正则以及数据库连接
function rshenmeshenme(){
	let count = 0;

//手机号正则
$("#phone").change(function() {
			let phone = /^1[3578]\d{9}$/g;
			if (phone.test($(this).val()) != true) {
				 $('.rightN').html("请输入正确的手机号").css("color","red");
			}else{
				 $('.rightN').html("√").css("color","green");
			}
//			console.log($(this).val().length)
		});
//邮箱的正则
	$("#email").change(function() {
			let emails = /^[\w]{1,}[0-9]{0,}@(([a-zA-z0-9]-*){1,}\.){1,3}[a-zA-z\-]{1,}$/g;
			if (emails.test($(this).val()) != true) {
				 $('.rightE').html("请输入正确的邮箱").css("color","red");
			}else{
				 $('.rightE').html("√").css("color","green");
			}
//			console.log($(this).val().length)
		});
//用户名正则		
	$("#username").change(function() {
			let users = /^[a-zA-Z][\w]{5,15}$/g;
			if (users.test($(this).val()) != true) {
				 $('.rightU').html("请输入正确的用户名格式").css("color","red");
			}else{
				 $('.rightU').html("√").css("color","green");
			}
//			console.log($(this).val().length)
	});
//出生年月日正则
//      $("#birth").change(function(){
//      	 let births =
//      })
//密码的正则
		$("#password").change(function() {
			let mypass = /^\w{6,16}$/g;
			if (mypass.test($(this).val()) != true) {
				 $('.rightP').html("请输入正确的密码").css("color","red");
			}else{
				 $('.rightP').html("√").css("color","green");
			}
//			console.log($(this).val().length)
		});
//确认密码
		$("#passes").change(function() {
			if ($(this).val()!=$("#password").val()) {
			 $('.rightA').html("两次密码不一致").css("color","red");
		}else{
			 $('.rightA').html("√").css("color","green");				
		}
//			console.log($(this).val().length)
		});
		
	$(".buttons").click(function(){
		if($("#username").val()!='' && $("#password").val()!=''){
			$.ajax({
				type:"post",
				url:"php/register.php",
				async:true,
				data:{
					'surname' : $("#surname").val(),
					'names' : $("#names").val(),
					'phone' : $("#phone").val(),
					'birth' : $("#birth").val(),
					'username' : $("#username").val(),
					'email' : $("#email").val(),
					'password' : $("#password").val()

				},
				success:function(data){
					if(data == 0){
						alert("注册失败");
					}else if(data == 1){
						alert("注册成功")						
						//setCookie("phone",$("#phone").val(),7);
						location.href="login.html";
					}else if(data == 2){
						alert("账户已存在")
					}else{
						alert("错误")
					}
				},
			});
		}
	})
	}rshenmeshenme();
	
	
//登录部分正则以及数据库连接	
	function zhengze(){
	let count = 0;
//用户名验证
//	$("#username").change(function() {
//			let users = /^[a-zA-Z][\w]{5,15}$/g;
//			if (users.test($(this).val()) != true) {
//				alert("用户名必须以字母开头，且6-16位，不能有特殊符号")
//			}else{
//				count++;
//			}
////			console.log($(this).val().length)
//		});
//
////	密码验证
//		$("#password").change(function() {
//			
//			let mypass = /^\w{6,16}$/g;
//			if (mypass.test($(this).val()) != true) {
//				alert("请输入6-16位密码")
//			}else{
//				count++;
//			}
////			console.log($(this).val().length)
//		});
////

	$(".button").click(function() {
		if($("#usernames").val() != '' && $("#passwords").val() != '') {
			$.ajax({
				type: "post",
				url: "php/login.php",
				async: true,
				data: {
					'usernames': $("#usernames").val(),
					'passwords': $("#passwords").val()
				},
				success: function(data) {
					console.log(data)
					if(data == 0) {
						alert("用户不存在");
					} else if(data == 2) {
						alert("登录成功")
						setCookie("usernames",$("#usernames").val(),7);
						location.href="index.html";
					} else if(data == 1) {
						alert("账号或者密码错误")
					} else {
						alert("错误")
					}
				},
			});
		}
	})
	}zhengze();
</script>